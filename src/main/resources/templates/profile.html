<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{/fragments/commons.html::head}">
    <title>The Old Library</title>
</head>

<body>
    <div class="site">
        <header th:replace="~{/fragments/commons.html::header}">
        </header>

        <main>
            <div class="profile-container">
                <form class="profile-form" autocomplete="off" enctype="multipart/form-data"
                      th:action="@{/user/profile(username=${userProfileDTO .username})}"
                      th:method="patch"
                      th:object="${userProfileDTO}" >
                    <div class="form-row-container">
                        <div class="profile-image-container">
                            <div class="profile-image-holder">
                                <img th:src="*{imageURL}" alt="User image"
                                th:field="*{imageURL}">
                            </div>
                            <div>
                                <p th:text="*{username}">username</p>
                                <p th:switch="*{role.name()}">[
                                    <span th:case="'USER'">Reader</span>
                                    <span th:case="'STAFF'">Librarian</span>
                                    <span th:case="'ADMIN'">Administrator</span>
                                    ]</p>
                            </div>
                        </div>
                        <div class="verify-password-container">
                            <div class="input-field-container">
                            </div>
                            <div class="input-field-container" id="password-container">
                                <label for="password">Verify password:</label>
                                <input type="password" id="password" autocomplete="new-password" placeholder="Type your password..."
                                       th:field="*{password}"/>
                                <div class="input-field-container">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-row-container">
                        <div class="input-field-container">
                            <label for="firstName">First name:</label>
                            <input type="text" id="firstName"
                            th:field="*{firstName}"/>
                        </div>
                        <div class="input-field-container">
                            <label for="lastName">Last name:</label>
                            <input type="text" id="lastName"
                            th:field="*{lastName}"/>
                        </div>
                    </div>
                    <div class="form-row-container">
                        <div class="input-field-container">
                            <label for="email">E-mail:</label>
                            <input type="email" id="email"
                            th:field="*{email}"/>
                        </div>
                        <div class="input-field-container">
                            <label for="phoneNumber">Phone number:</label>
                            <input type="text" id="phoneNumber"
                            th:field="*{phoneNumber}"/>
                        </div>
                    </div>
                    <div class="form-row-container">
                        <div class="input-field-container">
                            <label for="address">Address:</label>
                            <input type="text" id="address"
                            th:field="*{address}"/>
                        </div>
                    </div>
                    <div class="form-row-container">
                        <div class="input-field-container">
                            <p>Gender:</p>
                            <div class="radio-input-container">
                                <div th:each="g : ${genders}">
                                    <label th:for="${#strings.toLowerCase(g)}"
                                           th:text="${#strings.capitalizeWords(#strings.toLowerCase(g))}">Male</label>
                                    <input type="radio" th:id="${#strings.toLowerCase(g)}"
                                           th:field="*{gender}"
                                           th:value="${g}"/>
                                </div>
                            </div>
                        </div>
                        <div class="input-field-container input-file-width">
                            <label for="imageFile">Image:</label>
                            <input type="file" id="imageFile" multiple="multiple"
                            th:field="*{imageFile}"/>
                        </div>
                    </div>
                    <div class="profile-buttons-container">
                        <a href="" id="edit-btn">Edit</a>
                        <a th:href="@{/}" id="close-btn">Close</a>
                        <input type="submit" id="save-btn" value="Save" />
                        <a href="" id="cancel-btn">Cancel</a>
                    </div>
                </form>
            </div>
        </main>

        <footer th:replace="~{/fragments/commons.html::footer}">
        </footer>
    </div>
    <script th:src="@{/javascript/profile.js}"></script>
</body>

</html>